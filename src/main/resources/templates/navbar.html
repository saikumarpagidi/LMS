<!-- Navbar fragment: सिर्फ nav -->
<nav th:fragment="navbar" class="fixed top-0 left-0 right-0 z-50 bg-white" 
     x-data="{ showAbout:false, showCourses:false, subCourse:null }" 
     @click.away="showAbout=false; showCourses=false; subCourse=null">

  <!-- White Top Bar -->
  <div class="border-b border-gray-200">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 py-2">
      <div class="flex items-center space-x-4">
        <img th:src="@{/images/ministry.png}" alt="Govt of India" class="h-10"/>
        <img th:src="@{/images/cdac-seal.png}" alt="C-DAC" class="h-12"/>
        <img th:src="@{/images/e-adhyan.gif}" alt="e-Adhyan" class="h-12"/>
      </div>
      <div class="hidden md:flex items-center space-x-4">
        <a href="mailto:eadhyan-support@cdac.in" class="flex items-center text-gray-600 hover:text-blue-600">
          <i class="fas fa-envelope mr-1"></i>
          <span class="text-sm">eadhyan-support@cdac.in</span>
        </a>
        <a th:href="@{/home/login}" class="text-green-600 font-semibold hover:underline">Login</a>
        <a th:href="@{/home/register}"
           class="px-3 py-1 border border-green-600 text-green-600 rounded hover:bg-green-600 hover:text-white transition">
          Signup
        </a>
      </div>
      <button class="md:hidden text-white bg-blue-700 p-2 rounded"
              @click="document.getElementById('mobile-menu').classList.toggle('hidden')">
        ☰
      </button>
    </div>
  </div>

  <!-- Blue Main Bar -->
  <div class="bg-blue-500 h-12 border-b border-blue-700 shadow-lg">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 h-full">
      <ul class="hidden md:flex items-center space-x-6 text-white">

        <!-- About -->
        <li class="relative">
          <button @click.prevent="showAbout = !showAbout" class="px-2 py-1 hover:underline">
            About <i class="ml-1" :class="showAbout ? 'fas fa-chevron-up':'fas fa-chevron-down'"></i>
          </button>
          <ul x-show="showAbout" x-cloak
              class="absolute top-full mt-1 w-48 bg-white text-black rounded shadow-md">
            <li><a th:href="@{/home/about}" class="block px-4 py-2 hover:bg-gray-100">About Us</a></li>
            <li><a th:href="@{/home/why-program}" class="block px-4 py-2 hover:bg-gray-100">Why this Program?</a></li>
            <li><a th:href="@{/home/what-achieve}" class="block px-4 py-2 hover:bg-gray-100">What do you achieve?</a></li>
            <li><a th:href="@{/home/who-intended}" class="block px-4 py-2 hover:bg-gray-100">Who is this intended for?</a></li>
            <li><a th:href="@{/home/what-acquire}" class="block px-4 py-2 hover:bg-gray-100">What can you acquire?</a></li>
          </ul>
        </li>

        <!-- Courses -->
        <li class="relative">
          <button @click.prevent="showCourses = !showCourses" class="px-2 py-1 hover:underline">
            Courses <i class="ml-1" :class="showCourses ? 'fas fa-chevron-up':'fas fa-chevron-down'"></i>
          </button>

          <!-- Level 1 -->
          <ul x-show="showCourses" x-cloak
              class="absolute top-full mt-1 w-48 bg-white text-black rounded shadow-md">
            <li><button @click.prevent="subCourse='java'" class="w-full text-left px-4 py-2 hover:bg-gray-100">Java</button></li>
            <li><button @click.prevent="subCourse='ai'" class="w-full text-left px-4 py-2 hover:bg-gray-100">Artificial Intelligence</button></li>
            <li><button @click.prevent="subCourse='cyber'" class="w-full text-left px-4 py-2 hover:bg-gray-100">Cyber Security</button></li>
          </ul>

          <!-- Level 2: Java -->
          <ul x-show="subCourse==='java'" x-cloak
              class="absolute top-full left-full ml-1 w-48 bg-white text-black rounded shadow-md">
            <li><a th:href="@{/courses/java/1-day}" class="block px-4 py-2 hover:bg-gray-100">1 Day Program</a></li>
            <li><a th:href="@{/courses/java/2-day}" class="block px-4 py-2 hover:bg-gray-100">2 Day Program</a></li>
            <li><a th:href="@{/courses/java/3-day}" class="block px-4 py-2 hover:bg-gray-100">3 Day Program</a></li>
            <li><a th:href="@{/courses/java/5-day}" class="block px-4 py-2 hover:bg-gray-100">5 Day Program</a></li>
            <li><a th:href="@{/courses/java/10-day}" class="block px-4 py-2 hover:bg-gray-100">10 Day Program</a></li>
          </ul>

          <!-- Level 2: AI -->
          <ul x-show="subCourse==='ai'" x-cloak
              class="absolute top-full left-full ml-1 w-48 bg-white text-black rounded shadow-md">
            <li><a th:href="@{/courses/ai/1-day}" class="block px-4 py-2 hover:bg-gray-100">1 Day Program</a></li>
            <li><a th:href="@{/courses/ai/2-day}" class="block px-4 py-2 hover:bg-gray-100">2 Day Program</a></li>
            <li><a th:href="@{/courses/ai/3-day}" class="block px-4 py-2 hover:bg-gray-100">3 Day Program</a></li>
            <li><a th:href="@{/courses/ai/5-day}" class="block px-4 py-2 hover:bg-gray-100">5 Day Program</a></li>
            <li><a th:href="@{/courses/ai/10-day}" class="block px-4 py-2 hover:bg-gray-100">10 Day Program</a></li>
          </ul>

          <!-- Level 2: Cyber -->
          <ul x-show="subCourse==='cyber'" x-cloak
              class="absolute top-full left-full ml-1 w-48 bg-white text-black rounded shadow-md">
            <li><a th:href="@{/courses/cyber/1-day}" class="block px-4 py-2 hover:bg-gray-100">1 Day Program</a></li>
            <li><a th:href="@{/courses/cyber/2-day}" class="block px-4 py-2 hover:bg-gray-100">2 Day Program</a></li>
            <li><a th:href="@{/courses/cyber/3-day}" class="block px-4 py-2 hover:bg-gray-100">3 Day Program</a></li>
            <li><a th:href="@{/courses/cyber/5-day}" class="block px-4 py-2 hover:bg-gray-100">5 Day Program</a></li>
            <li><a th:href="@{/courses/cyber/10-day}" class="block px-4 py-2 hover:bg-gray-100">10 Day Program</a></li>
          </ul>
        </li>

        <!-- Bulletin -->
        <li><a th:href="@{/bulletin}" class="hover:underline text-white">Information Bulletin</a></li>
      </ul>

      <!-- Search -->
      <form action="/search" method="get" class="hidden md:flex items-center space-x-2">
        <input type="text" name="query" placeholder="Search..."
               class="px-3 py-1 rounded border border-blue-300 text-sm focus:outline-none"/>
        <button type="submit"
                class="bg-white text-blue-700 px-3 py-1 rounded font-semibold hover:bg-gray-100 text-sm">
          Search
        </button>
      </form>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden bg-blue-500 text-white px-4 py-4 hidden space-y-2">
    <a th:href="@{/home/about}" class="block">About Us</a>
    <a th:href="@{/home/why-program}" class="block">Why this Program?</a>
    <a th:href="@{/home/what-achieve}" class="block">What do you achieve?</a>
    <a th:href="@{/home/who-intended}" class="block">Who is this intended for?</a>
    <a th:href="@{/home/what-acquire}" class="block">What can you acquire?</a>
    <a th:href="@{/courses}" class="block">Courses</a>
    <a th:href="@{/bulletin}" class="block">Information Bulletin</a>
    <form action="/search" method="get" class="flex items-center space-x-2 mt-2">
      <input type="text" name="query" placeholder="Search..."
             class="px-3 py-1 rounded border border-blue-300 text-sm focus:outline-none"/>
      <button type="submit" class="bg-white text-blue-700 px-3 py-1 rounded font-semibold hover:bg-gray-100 text-sm">
        Search
      </button>
    </form>
  </div>
</nav>
