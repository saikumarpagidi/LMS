<!-- Navbar fragment: सिर्फ nav -->
<nav th:fragment="navbar"
     class="fixed top-0 left-0 right-0 w-full z-50 bg-white shadow m-0 p-0"
     x-data="{ showAbout:false, showCourses:false, showBulletin:false, subCourse:null }"
     @mouseleave="showAbout=false; showCourses=false; showBulletin=false; subCourse=null">

  <!-- Header Top Bar -->
  <div class="w-full border-b border-gray-200 bg-white m-0 p-0">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-2 py-2 m-0 p-0">
      <!-- Left: Logos -->
      <div class="flex items-center space-x-6">
        <a th:href="@{/home/test}">
          <img th:src="@{/images/ministry.png}" alt="Govt of India" class="h-12 w-auto"/>
        </a>
        <a th:href="@{/home/test}">
          <img th:src="@{/images/cdac-seal.png}" alt="C-DAC" class="h-20 w-auto"/>
        </a>
        <a th:href="@{/home/test}">
          <img th:src="@{/images/e-adhyan.gif}" alt="e-Adhyan" class="h-20 w-auto"/>
        </a>
      </div>
      <!-- Center: Branding (optional) -->
      <div class="flex-1 flex justify-center"></div>
      <!-- Right: Support, Login, Signup -->
      <div class="flex items-center space-x-2">
        <a th:href="@{mailto:eadhyan-support@cdac.in}" class="flex items-center text-blue-900 hover:text-blue-600 text-sm mr-2">
          <i class="fas fa-envelope mr-1"></i>
          <span>eadhyan-support@cdac.in</span>
        </a>
        <a th:href="@{/home/login}" class="text-green-700 font-semibold border-2 border-green-700 px-3 py-1 rounded hover:bg-green-700 hover:text-white transition-all duration-200 text-base">Login</a>
        <a th:href="@{/home/register}" class="ml-1 px-3 py-1 bg-green-500 text-white font-semibold rounded shadow hover:bg-green-600 transition text-base">Signup</a>
      </div>
    </div>
  </div>

  <!-- Blue Navigation Bar -->
  <div class="relative w-full h-12 flex items-center
              bg-gradient-to-b from-blue-400 via-blue-600 to-blue-700
              shadow-[0_8px_16px_rgba(0,0,0,0.3)]">
    <!-- Left bevel -->
    <div class="absolute left-0 top-0 h-full w-6 bevel-left
                bg-gradient-to-b from-blue-500 via-blue-600 to-blue-800"></div>
    <!-- Right bevel -->
    <div class="absolute right-0 top-0 h-full w-6 bevel-right
                bg-gradient-to-b from-blue-500 via-blue-600 to-blue-800"></div>

    <div class="relative flex items-center justify-between max-w-7xl mx-auto w-full px-2">
      <!-- Menu Items -->
      <ul class="flex items-center space-x-2 text-white font-bold h-12">
        <!-- About -->
        <li class="relative h-full flex items-center group">
          <button class="px-4 py-2 h-full hover:bg-blue-700 rounded-t text-white text-base focus:outline-none flex items-center">
            About
            <i class="fas fa-chevron-down ml-1 text-xs group-hover:rotate-180 transition-transform duration-200"></i>
          </button>
          <ul class="absolute left-0 top-[95%] z-50 w-56 bg-[#E7ECED] text-black rounded shadow-lg border border-[#642886] group-hover:block hidden">
            <li><a th:href="@{/home/about}" class="block px-4 py-2 text-left text-black font-normal hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white">About Us</a></li>
            <li><a th:href="@{/home/why-program}" class="block px-4 py-2 text-left text-black font-normal hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white">Why this Program?</a></li>
            <li><a th:href="@{/home/what-achieve}" class="block px-4 py-2 text-left text-black font-normal hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white">What do you achieve?</a></li>
            <li><a th:href="@{/home/who-intended}" class="block px-4 py-2 text-left text-black font-normal hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white">Who is this intended for?</a></li>
            <li><a th:href="@{/home/what-acquire}" class="block px-4 py-2 text-left text-black font-normal hover:bg-[#a8b5b5] transition-all duration-200">What can you acquire?</a></li>
          </ul>
        </li>

        <!-- Courses -->
        <li class="relative h-full flex items-center group">
          <button class="px-4 py-2 h-full hover:bg-blue-700 rounded-t text-white text-base focus:outline-none flex items-center">
            Courses
            <i class="fas fa-chevron-down ml-1 text-xs group-hover:rotate-180 transition-transform duration-200"></i>
          </button>
          <!-- Level 1 Dropdown -->
          <ul class="absolute left-0 top-[95%] z-50 w-56 bg-[#E7ECED] text-black rounded shadow-lg border border-[#642886] group-hover:block hidden">
            <li class="relative group/sub">
              <button class="block w-full text-left px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 flex items-center justify-between border-b border-white font-normal">
                Artificial Intelligence 
                <i class="fas fa-chevron-right text-xs ml-2 group-hover/sub:rotate-90 transition-transform duration-200"></i>
              </button>
              <!-- Level 2 Dropdown -->
              <ul class="absolute left-full top-0 ml-1 w-56 bg-[#E7ECED] text-black rounded shadow-lg border border-[#642886] group-hover/sub:block hidden">
                <li><a th:href="@{/home/oneDayProgram}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">1-Day Program</a></li>
                <li><a th:href="@{/courses/ai/2-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">2-Day Program</a></li>
                <li><a th:href="@{/courses/ai/3-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">3-Day Program</a></li>
                <li><a th:href="@{/courses/ai/5-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">5-Day Program</a></li>
                <li><a th:href="@{/courses/ai/10-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 font-normal">10-Day Program</a></li>
              </ul>
            </li>
            <li class="relative group/sub">
              <button class="block w-full text-left px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 flex items-center justify-between border-b border-white font-normal">
                Cyber Security
                <i class="fas fa-chevron-right text-xs ml-2 group-hover/sub:rotate-90 transition-transform duration-200"></i>
              </button>
              <!-- Level 2 Dropdown -->
              <ul class="absolute left-full top-0 ml-1 w-56 bg-[#E7ECED] text-black rounded shadow-lg border border-[#642886] group-hover/sub:block hidden">
                <li><a th:href="@{/courses/cyber/1-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">1-Day Program</a></li>
                <li><a th:href="@{/courses/cyber/2-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">2-Day Program</a></li>
                <li><a th:href="@{/courses/cyber/3-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">3-Day Program</a></li>
                <li><a th:href="@{/courses/cyber/5-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 border-b border-white font-normal">5-Day Program</a></li>
                <li><a th:href="@{/courses/cyber/10-day}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 font-normal">10-Day Program</a></li>
              </ul>
            </li>
          </ul>
        </li>

        <!-- Information Bulletin -->
        <li class="relative h-full flex items-center group">
          <button class="px-4 py-2 h-full hover:bg-blue-700 rounded-t text-white text-base focus:outline-none flex items-center">
            Information Bulletin
            <i class="fas fa-chevron-down ml-1 text-xs group-hover:rotate-180 transition-transform duration-200"></i>
          </button>
          <ul class="absolute left-0 top-[95%] z-50 w-56 bg-[#E7ECED] text-black rounded shadow-lg border border-[#642886] group-hover:block hidden">
            <li><a th:href="@{/bulletin}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">News Room</a></li>
            <li><a th:href="@{/newsroom}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">Events</a></li>
            <li><a th:href="@{/internship}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">Internship</a></li>
            <li><a th:href="@{/blogs}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">Blogs</a></li>
            <li><a th:href="@{/blogs}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">Research Work</a></li>
            <li><a th:href="@{/blogs}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left border-b border-white font-normal">Board of Studies</a></li>
            <li><a th:href="@{/blogs}" class="block px-4 py-2 hover:bg-[#a8b5b5] transition-all duration-200 text-left font-normal">Technical Expert Committee</a></li>
          </ul>
        </li>
      </ul>

      <!-- Search Bar -->
      <form th:action="@{/search}" method="get" class="flex items-center space-x-0 bg-blue-400 rounded h-8 ml-4">
        <input type="text" name="query" placeholder="Search for anything" class="px-2 py-1 h-8 rounded-l border-0 text-sm focus:outline-none w-44"/>
        <button type="submit" class="bg-white text-blue-700 px-3 h-8 rounded-r font-semibold hover:bg-gray-100 text-sm flex items-center justify-center">
          <i class="fas fa-search"></i>
        </button>
      </form>
    </div>
  </div>
</nav>

<style>
  /* Custom hover behavior to avoid instant dropdown closing */
  .group:hover .group-hover\:block {
    display: block !important;
  }
  .group\/sub:hover .group-hover\/sub\:block {
    display: block !important;
  }

  /* Clip-path helper classes */
  .bevel-left  { clip-path: polygon(0 0, 100% 50%, 0 100%); }
  .bevel-right { clip-path: polygon(100% 0, 0 50%, 100% 100%); }
</style>
